<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>big homework.2</title>
  <style>
  #container{
    height: 500px;
  }
  .box{
    width: 300px;
    height:500px;
    padding-top: 100px;
    margin-left:300px;
  }
  .srceen{
    margin: 0px auto;
    width: 250px;
    height: 50px;
    background: white;
    border-radius: 15px;
  }
  #bottom{
    width: 250px;
    height: 500px;
    margin: 0px auto;
  }
  .heng{
    height: 40px;
    width: 200px;
    padding-left:30px;
  }
  .line{
    height:450px;
    width:40px; 
  }
</style>
</head>
<body>
 <div id="container5" class=container-class></div>
<!-- <div id="box">
     <input id="srceen" name="val" type="text"  maxlength="12" readonly='readonly' value="0" style="width:250px;height:50px ;margin-left:30px;margin-top:30px;>
    <table id="bottom">
      <tr class="heng">
        <td class="line"><button >อิ_อิ</button></td>
        <td class="line"><button name="root" onclick="danmuIn(this)">√</button></td>
        <td class="line"><button >อิ_อิ</button></td>
        <td class="line"><button name="upDown" onclick="danmuIn(this)">1/x</button></td>
      </tr>
       <tr class="heng">
        <td class="line"><button name="CE" onclick="clearOUT(this)">CE</button></td>
        <td class="line"><button name="C" onclick="operatorIn(this)">C</button></td>
        <td class="line"><button name="back" onclick="clearOUT(this)">←</button></td>
        <td class="line"><button name="div" onclick="operatorIn(this)">÷</button></td>
      </tr>
      <tr class="heng">
        <td class="line"><button name="seven" onclick="numIn(this)">7</button></td>
        <td class="line"><button name="eight" onclick="numIn(this)">8</button></td>
        <td class="line"><button name="nine" onclick="numIn(this)">9</button></td>
        <td class="line"><button name="multi" onclick="operatorIn(this)">*</button></td>
      </tr>
      <tr class="heng">
        <td class="line"><button name="four" onclick="numIn(this)">4</button></td>
        <td class="line"><button name="five" onclick="numIn(this)">5</button></td>
        <td class="line"><button name="six" onclick="numIn(this)">6</button></td>
        <td class="line"><button name="minus" onclick="operatorIn(this)">-</button></td>
      </tr>
      <tr class="heng">
        <td class="line"><button name="one" onclick="numIn(this)">1</button></td>
        <td class="line"><button name="two" onclick="numIn(this)">2</button></td>
        <td class="line"><button name="three" onclick="numIn(this)">3</button></td>
        <td class="line"><button name="plus" onclick="operatorIn(this)">+</button></td>
      </tr>
      <tr class="heng">
        <td class="line"><button name="oppo" onclick="danmuIn(this)">±</button></td>
        <td class="line"><button name="zero" onclick="numIn(this)">0</button></td>
        <td class="line"><button name="dot" onclick="numIn(this)">.</button></td>
        <td class="line"><button name="equal" onclick="orderIn(this)">=</button></td>
      </tr>
    </table> -->
    <script>//开始运行JS脚本，表示你要开始写计算器了。。。。
   function initialize(container){

      var contain = document.getElementById(container);
      var box=document.createElement("div");
      //box.className = 'box';
      //contain.appendChild(box);
      contain.appendChild(box);
      //篮框
      var val = document.createElement("input");
      val.type="text";
      val.value = "0";
      val.disabled="disabled";
      //val.id = "textbox";
      val.name="valve"+container;
      box.appendChild(val);
      var table= document.createElement("table");
          table.className="bottom";
      box.appendChild(table);
        
      var biaoqing=document.createElement("tr");
          biaoqing.className='heng';
          biaoqing.type = "tr";
      table.appendChild(biaoqing);
      var biaoqing1= document.createElement("td");
          biaoqing1.className = 'line';
          biaoqing1.type = "td";
       biaoqing.appendChild(biaoqing1);
      var biaoqing2=document.getElementById("button");
         // biaoqing2.innerHTML="อิ_อิ";
          biaoqing1.appendChild(biaoqing2);

      //var biaoqing=document.getElementById("tr");
          //tr.className = heng;
     //table.appendChild(biaoqing);
      var gen= document.createElement("td");
          gen.className = 'line';
          gen.type = "td";
       biaoqing.appendChild(gen);
      var gen2=document.createElement("button");
      gen2.innerHTML="√";
      gen2.className="root";
      gen2.onclick=function(){danmuIn(this)};
      gen1.appendChild(gen2);

     // var biaoqing=document.getElementById("heng");
      // tr.className = "heng";
      //table.appendChild(biaoqing);
      var biaoqing1= document.createElement("td");
          biaoqing1.className = 'line';
          biaoqing1.type = "td";
       biaoqing.appendChild(biaoqing1);
      var biaoqing2=document.createElement("button");
      biaoqing2.innerHTML="อิ_อิ";
      biaoqing1.appendChild(biaoqing2);

    //  var biaoqing=document.createElement("td");
     /// table.appendChild(biaoqing);
      var fan1= document.createElement("td");
          fan1.className = 'line';
          fan1.type = "td";
      biaoqing.appendChild(fan1);
      var fan2=document.createElement("button");
      fan2.innerHTML="1/x";
      fan2.className="upDown";
      fan2.onclick=function(){danmuIn(this)};
      fan1.appendChild(fan2);

      var ee=document.createElement("tr");
          ee.className='heng';
          ee.type = "tr";
      table.appendChild(ee);
      var ee1= document.createElement("td");
          ee1.className = 'line';
          ee1.type = "td";
       ee.appendChild(ee1);
      var ee2=document.createElement("button");
      ee2.innerHTML="CE";
      ee2.className="CE";
      gen2.onclick=function(){clearOUT(this)};
      ee1.appendChild(ee2);

      //var ee=document.getElementById("heng");
      //table.appendChild(cc);
      var cc1= document.createElement("td");
          cc1.className = 'line';
          cc1.type = "td";
          ee.appendChild(cc1);
      var cc2=document.createElement("button");
      cc2.innerHTML="C";
      cc2.className="C";
      cc2.onclick=function(){operatorIn(this)};
      cc1.appendChild(cc2);

      //var ee=document.createElement("tr");
          //tr.className=heng;
         // heng.type = "tr";
      table.appendChild(ee);
      var hui1= document.createElement("td");
           hui1.className = 'line';
          hui1.type = "td";
       ee.appendChild(hui1);
      var hui2=document.createElement("button");
          hui2.innerHTML="←";
          hui2.className="back";
      hui2.onclick=function(){clearOUT(this)};
      hui1.appendChild(hui2);

      var chu1= document.createElement("td");
          chu1.className = 'line';
          chu1.type = "td";
       ee.appendChild(chu1);
      var chu2=document.createElement("button");
      chu2.innerHTML="÷";
      chu2.className="div";
      chu2.onclick=function(){operatorIn(this)};
      chu1.appendChild(chu2);

      var seve=document.createElement("tr");
          seve.className='heng';
          seve.type = "tr";
      table.appendChild(seve);
      var seve1= document.createElement("td");
          seve1.className = 'line';
          line.type = "td";
       seve.appendChild(seve1);
      var seve2=document.createElement("button");
      seve2.innerHTML="7";
      seve2.className="seven";
      seve2.onclick=function(){numIn(this)};
      seve1.appendChild(seve2);

      //var seve=document.createElement("tr");
      //table.appendChild(eigh);
      var eigh1= document.createElement("td");
          eigh1.className =' line ';
          eigh1.type = "td";
       seve.appendChild(eigh1);
      var eigh2=document.createElement("button");
      eigh2.innerHTML="8";
      eigh2.className="eight";
      eigh2.onclick=function(){numIn(this)};
      eigh1.appendChild(eigh2);

     // var seve=document.createElement("tr");
     // table.appendChild(nin);
      var nin1= document.createElement("td");
          nin1.className = 'line';
          nin1.type = "td";
       seve.appendChild(nin1);
      var nin2=document.createElement("button");
      nin2.innerHTML="9";
      nin2.className="nine";
      gen2.onclick=function(){numIn(this)};
      nin1.appendChild(nin2);

      //var seve=document.createElement("tr");
      //table.appendChild(cheng);
      var cheng1= document.createElement("td");
          cheng1.className =' line';
          cheng1.type = "td";
       seve.appendChild(cheng1);
      var cheng2=document.createElement("button");
      cheng2.innerHTML="*";
      cheng2.className="multi";
      cheng2.onclick=function(){operatorIn(this)};
      cheng1.appendChild(cheng2);

      var fou=document.createElement("tr");
          fou.className='heng';
          fou.type = "tr";
      table.appendChild(fou);
      var fou1= document.createElement("td");
          fou1.className = 'line';
          line.type = "td";
       fou.appendChild(fou1);
      var fou2=document.createElement("button");
      fou2.innerHTML="4";
      fou2.className="four";
      fou2.onclick=function(){numIn(this)};
      fou1.appendChild(fou2);

      //var fou=document.createElement("tr");
      //table.appendChild(fou);
      var fiv1= document.createElement("td");
          fiv1.className = 'line';
          fiv1.type = "td";
       fou.appendChild(fiv1);
      var fiv2=document.createElement("button");
      fiv2.innerHTML="5";
      fiv2.className="five";
      gen2.onclick=function(){numIn(this)};
      fiv1.appendChild(fiv2);

     // var fou=document.createElement("tr");
      //table.appendChild(fou);
      var si1= document.createElement("td");
          si1.className = 'line';
          si1.type = "td";
       fou.appendChild(si1);
      var si2=document.createElement("button");
      si2.innerHTML="6";
      si2.className="six";
      si2.onclick=function(){numIn(this)};
      si1.appendChild(si2);

      //var fou=document.createElement("tr");
      //table.appendChild(fou);
      var jian1= document.createElement("td");
          jian1.className = 'line';
          jian1.type = "td";
       fou.appendChild(jian1);
      var jian2=document.createElement("button");
      jian2.innerHTML="-";
      jian2.className="minus";
      jian2.onclick=function(){operatorIn(this)};
      jian1.appendChild(jian2);

      var on=document.createElement("tr");
           on.className=heng;
           on.type = "tr";
      table.appendChild(on);
      var on1= document.createElement("td");
          on1.className = 'line';
          on1.type = "td";
       on.appendChild(on1);
      var on2=document.createElement("button");
      on2.innerHTML="1";
      on2.className="one";
      on2.onclick=function(){numIn(this)};
      on1.appendChild(on2);

     // var on=document.createElement("tr");
     // table.appendChild(on);
      var tw1= document.createElement("td");
           tw1.className = 'line';
          tw1.type = "td";
       on.appendChild(tw1);
      var tw2=document.createElement("button");
      tw2.innerHTML="2";
      tw2.className="two";
      tw2.onclick=function(){numIn(this)};
      tw1.appendChild(tw2);

     // var on=document.createElement("tr");
      //table.appendChild(on);
      var thee1= document.createElement("td");
          thee1.className = 'line';
          thee1.type = "td"; 
       on.appendChild(thee1);
      var thee2=document.createElement("button");
      thee2.innerHTML="3";
      thee2.className="three";
      thee2.onclick=function(){numIn(this)};
      thee1.appendChild(thee2);

     // var on=document.createElement("tr");
     // table.appendChild(on);
      var jia1= document.createElement("td");
           jia1.className = 'line';
          jian1.type = "td";
       on.appendChild(jia1);
      var jia2=document.createElement("button");
      jia2.innerHTML="+";
      jia2.className="plus";
      jia2.onclick=function(){operatorIn(this)};
      jia1.appendChild(jia2);

      var fu=document.createElement("tr");
           fu.className='heng';
          fu.type = "tr";
      table.appendChild(fu);
      var fu1= document.createElement("td");
           fu1.className =' line';
           fu1.type = "td";
       fu.appendChild(fu1);
      var fu2=document.createElement("button");
      fu2.innerHTML="±";
      fu2.className="oppo";
      fu2.onclick=function(){danmuIn(this)};
      fu1.appendChild(fu2);

      //var fu=document.createElement("tr");
     // table.appendChild(fu);
      var zz1= document.createElement("td");
           zz1.className = 'line';
           zz1.type = "td";
       fu.appendChild(zz1);
      var zz2=document.createElement("button");
      zz2.innerHTML="0";
      zz2.className="zero";
      zz2.onclick=function(){numIn(this)};
      zz1.appendChild(zz2);

      ///var fu=document.getElementById("tr");
     // table.appendChild(fu);
      var dian1= document.createElement("td");
          dian1.className = 'line';
          dian1.type = "td";
      fu.appendChild(dian1);
      var dian2=document.createElement("button");
      dian2.innerHTML=".";
      dian2.className="dot";
      dian2.onclick=function(){numIn(this)};
      dian1.appendChild(dian2);

     // var fu=document.createElement("tr");
    //  table.appendChild(fu);
      var deng1= document.createElement("td");
           deng1.className = 'line';
            dian1.type = "td";
       fu.appendChild(deng1);
      var deng2=document.createElement("button");
      deng2.innerHTML="=";
      deng2.className="equal";
      deng2.onclick=function(){orderIn(this)};
      deng.appendChild(deng2);

    var inputTemp=document.getElementById("srceen");//来接受并暂时保存待处理的输入框内容
    var first;//第一操作数
    var second;//第二操作数
    var pointer=1;//指针（当作是）
    var operator;//存储操作符
    var orderIn;//进行完运算的结果；
    var afterCaculation=false;//存储'刚刚是否进行了运算'的真假性
    var clearOut="";//对于单目运算符的单独使用
//function sumIn(container){
   function numIn(obj){//传入参数，比如1，2等
    if(inputTemp.value != "Error"){
   
     if( afterCaculation == false && operator && first && (!second) ){
        //如果刚才并没有发生运算且仅输入了第一操作数 和 运算符号 而第二操作数未定义 则清空显示区域并开始对第二操作数进行操作
        
        pointer = 2;
        //指向第二操作数
        
        document.getElementById("srceen").value = 0;
        //清空显示区域
     }
  
       if(afterCaculation == true ){
        pointer = 2;
        document.getElementById("srceen").value = 0;
        afterCaculation=false;
      }
        inputTemp = document.getElementById("srceen");

      if( inputTemp.value == "0" && obj.innerHTML !="."){ //如过inputTemp对应的标签的value属性为"0" 通常标签的value属性读取出来会是 字符串

        inputTemp.value = obj.innerHTML; //那么这个数调成1
        //要注意 inputTemp.value这个对象的属性，既可以被提取出来，用作上面的等于等于比较，也可以在后面加个等号对他赋值！
      }

      else {//否则的话 

        var ix=inputTemp.value.indexOf(".");
         if(inputTemp.value == 0 && obj.innerHTML =="."){inputTemp.value = "0.";}//对于直接按。出现0.这种情况进行判断
         else if(obj.innerHTML == "." && ix >=0 ){}//如果有了一个小数点就不能再继续再加小数点了
    
             else{
             inputTemp = document.getElementById("srceen");
             inputTemp.value = inputTemp.value + obj.innerHTML;
             }
       }

      if(pointer==1)//当指针指向输入的第一个数
       {  
         first = inputTemp.value;//给第一个数赋值，你点击的那个数,真正的输入一个数

       }
       else{ 
         if(pointer==2)//如果指向了第二个数
      
         second = inputTemp.value;
       }
       if(clearOut ==  "CE" && !second && first && operator){ second = 0;}
   }
 }
function clearOUT(obj){
  if(inputTemp.value != "Error"){
  
     inputTemp = document.getElementById("srceen");

      clearOut = obj.innerHTML;//特意为了CE写了一个函数因为不知道要怎样设定清除哪个数
    
      if(clearOut == "CE"){
        inputTemp.value = 0;


        if( pointer == 2){//清除第二个数

           second = "";

           pointer=2;
        }

        if(pointer == 1 && !operator){//清除第一个数

          first ="0";

          inputTemp.value = 0;

          pointer = 1;
        }

         inputTemp = document.getElementById("srceen");
      }
 
        if(clearOut == "←"){
          
          if(inputTemp.value != "0" ){
           function SubstringDemo(){
            
            inputTemp.value=inputTemp.value.substring(0,inputTemp.value.length-1);

            return(inputTemp.value);
           }
           if(afterCaculation == true){}
           else{
            inputTemp.value=SubstringDemo();
            if(inputTemp.value=="-"||inputTemp.value==""){inputTemp.value="0";}
            if(pointer == "1"){
              first = inputTemp.value;
            }
            if(pointer == "2"){
              second = inputTemp.value;
            }
          }
          }
        }
    }
  }
  function danmuIn(obj){//对于单目操作符的函数只对当前操作数有效
   if(inputTemp.value != "Error"){
    danmu=obj.innerHTML;
     if(danmu == "1/x"){
        inputTemp=document.getElementById("srceen");
        if(inputTemp.value== 0){
          inputTemp.value="Error";}
        else{
         inputTemp.value = 1/inputTemp.value;
         if(pointer == 1){first=inputTemp.value;}
         if(pointer == 2){second=inputTemp.value;}
        }
         afterCaculation = true;
      }
      if(danmu == "√"){
        if(inputTemp.value<0){inputTemp.value = "Error";}
        else{
          inputTemp = document.getElementById("srceen");
          inputTemp.value=Math.sqrt(inputTemp.value);
         if(pointer == 1){first =inputTemp.value;}
           if(pointer== 2){second =inputTemp.value;}
        }
         afterCaculation = true;
      }  
        if(danmu=="±"){//操作符为正负号
         var ix=inputTemp.value.indexOf("-");
         var is=inputTemp.value.substr(inputTemp.value.length-1,1);
         if(ix >=0 && (is =="." || is=="0")){
          if(inputTemp.value.substr(0,1) == '-')
             inputTemp.value = inputTemp.value.substr(1);
         }
         if( ix<0 && (is=="." || is=="0"))
         { 
          inputTemp.value="-"+ inputTemp.value;
         }  
         var ix=inputTemp.value.indexOf(".");
         if(inputTemp.value == 0 && ix<0){inputTemp.value = 0;}
         if(is !="." && is!="0"){inputTemp.value = 0-inputTemp.value;} 
            inputTemp = document.getElementById("srceen");
            if(pointer==1){first= inputTemp.value;}
            if(pointer==2){second =inputTemp.value;}
      
        }
      }
  }

  function operatorIn(obj){//运用函数读入操作符,比如+等
    if(second){
         orderIn();}
     operator= obj.innerHTML; //将运算符赋给operator,读取运
       if(!first && operator){
        first = 0;
      }
      if(pointer == 1){
         //如果已经输入了第一个数，则就进行加减第二个数；
         pointer=2;
      
         second = 0;
         first = inputTemp.value;
         first = first-0;
         inputTemp.value = first;
         inputTemp =document.getElementById("srceen");

      }
     if(pointer == 2){
         inputTemp = document.getElementById("srceen");
     }
      if(operator == "C") {

         first="";second="";operator = "";

          inputTemp = document.getElementById("srceen");

          inputTemp.value = 0;
          afterCaculation = false;

          pointer=1;
      }
}
    function orderIn(obj){
      if(inputTemp.value != "Error"){
          if(operator=="+"){//操作符为+

            if(!second && clearOut != "CE"){

            second=first;
            }
            first =  (first-0) + (second-0) ;///此处可能是字符串需要进行一个转换，化为数字
           
          inputTemp =document.getElementById("srceen");
           inputTemp.value = first;
           pointer = 1; 
         
          }

          afterCaculation = true;
         
          if(operator=="-" ){//操作符为-

            if(!second && clearOut != "CE"){

              second=first;
            }

            first =  (first-0) - (second-0) ;///此处可能是字符串需要进行一个转换，化为数字
            inputTemp =document.getElementById("srceen");
            inputTemp.value = first;
             pointer = 1;
          }
          afterCaculation = true;
          
          if(operator=="*"){//操作符为*

            if(!second && clearOut != "CE"){

             second=first;
            }

            first =  (first-0) * (second-0) ;///此处可能是字符串需要进行一个转换，化为数字
            inputTemp =document.getElementById("srceen");
            inputTemp.value = first;
            pointer = 1;
           
          }
          afterCaculation = true;
          
          if(operator=="÷"){//操作符为除

            if(!second && clearOut != "CE"){

             second=first;
             }

            first =  (first-0) / (second-0) ;///此处可能是字符串需要进行一个转换，化为数字

            inputTemp.value = first;
            if(second == "0"){
              inputTemp = document.getElementById("srceen")
              inputTemp.value="Error";
            }
            inputTemp =document.getElementById("srceen");
            pointer = 1;
          }
          
           afterCaculation = true;

           if(first &&!operator){ 
            first = inputTemp.value;
           first = first-0;
           inputTemp.value = first;

         }
    }
   }
 }
  initialize("container5");
  //initialize(container6);
  </script>
</div>	
</body>
</html>